# **Backend test task**

## **Описание задания:**

Реализовать микросервис, который будет предоставлять http api, для показа разницы курса той или иной валюты относительно рубля за выбранные даты.

## **Шаги выполнения задания:**

### **Микросервис**

Для реализации микросервиса с предоставлением http api использовался веб-фреймворк FastAPI с Python 3.6+. 

Код для работы с сервисом прописан в файле [main](https://github.com/ElenaBalbukova/test_task/blob/main/main.py). Использовались стандартные библиотеки Python. 

Микросервис содержать два метода:

А. Получает список валют, который возвращает все валюты, которые можно использовать (символьный код (RUB, EUR), название, ID и т.д.). Список взят [здесь](http://www.cbr.ru/scripts/XML_valFull.asp).

B. Получает разницу курса относительно рубля между двумя датами за выбранную дату, метод принимает символьный код валюты, и две даты. Возвращает метод курс за первую дату, курс за вторую дату и разницу между ними. Дата передается в формате: YYYY-MM-DD

### **Получение данных**

Для получения курса валют использовался [API](http://www.cbr.ru/development/sxml/), который принимал две даты, ID валюты и возвращал динамику котировок между двумя датами в XML документ. Данные использовались [отсуда](http://www.cbr.ru/scripts/XML_dynamic.asp?date_req1=02/03/2001&date_req2=14/03/2001&VAL_NM_RQ=R01235).

Метод получения ID валюты по символьному коду описан в файле [add_currency_list](https://github.com/ElenaBalbukova/test_task/blob/main/add_currency_list.py). Полный списк валют находится в [data_file](https://github.com/ElenaBalbukova/test_task/blob/main/data_file.json).

## **Запуск**

Для установки тествого виртуального окружения выполните следующие команды:

```
python3 -m venv venv
```
```
. venv/bin/activate
```
```
pip install -r requirements.txt
```

# **Тесткейсы:**

Получение списка валют:
```
http://127.0.0.1:8000/docs#/default/get_currency_list_get_currency_list_get
```
Получение разницы курса:
```
http://127.0.0.1:8000/docs#/default/get_two_date_date_get
```
Возвращает курс за первую дату, курс за вторую дату и разницу между ними. Дата передается в формате: YYYY-MM-DD
```
{
  "2001-03-02": "28,6200",
  "2001-03-14": "28,6500",
  "difference_value": 0.03
}
```